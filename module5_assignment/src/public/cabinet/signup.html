<div id="main-content" class="container">
  <div class="col-xs-12 col-sm-8 col-md-6">
    <h2 ng-if="!signupCtrl.user.registered">Please, enter your data for our Newsletter</h2>
    <h2 ng-if="signupCtrl.user.registered">Want to change your data for our Newsletter?</h2>
    <p>Which we never send to you, ha-ha. By the way, all fields are required.</p>
    <form name="signupForm" novalidate>
      <div class="form-group">
        <input type="text" class="form-control" placeholder="First name"
               name="first_name"
               ng-model="signupCtrl.user.FirstName"
               required>
         <div ng-if="signupForm.first_name.$error.required && signupForm.first_name.$touched"
               class="alert alert-danger" role="alert">
            Please, introduce yourself.
         </div>
      </div>
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Last name"
               name="last_name"
               ng-model="signupCtrl.user.LastName"
               required>
       <div ng-if="signupForm.last_name.$error.required && signupForm.last_name.$touched"
             class="alert alert-danger" role="alert">
          Please, don't be shy. The last name is a part of the introduction.
       </div>
      </div>
      <div class="form-group">
        <input type="email" class="form-control" placeholder="Email"
               name="email"
               ng-model="signupCtrl.user.Email"
               required>
        <div ng-if="signupForm.email.$invalid && signupForm.email.$touched"
              class="alert alert-danger" role="alert">
           We really, really need your email for this newsletter which we never send you anyway. It must be a valid email: handle@domain format.
        </div>
      </div>
      <div class="form-group">
        <div class="input-group">
          <span class="input-group-addon" id="basic-addon1">+7</span>
          <input type="text" class="form-control" aria-describedby="basic-addon1"
               placeholder="Phone ###-###-##-##"
               name="phone"
               ng-model="signupCtrl.user.Phone"
               pattern="(\d{3})-(\d{3})-(\d{2})-(\d{2})"
               required>
        </div>
        <div ng-if="signupForm.phone.$invalid && signupForm.phone.$touched"
              class="alert alert-danger" role="alert">
           Phone must be in the format ###-###-##-##.
        </div>
      </div>

      <div class="form-group">
        <label for="favourite_dish">Your favourite dish (type it's menu number)</label>
        <input type="text" class="form-control" id="favourite_dish"
               name="favourite_dish"
               ng-model="signupCtrl.user.Dish"
               itemexists
               required>
         <div ng-if="signupForm.favourite_dish.$pending.itemexists"
               class="alert alert-warning" role="alert">
            Checking menu for this item ...
         </div>
         <div ng-if="signupForm.favourite_dish.$error.required && signupForm.favourite_dish.$touched"
               class="alert alert-danger" role="alert">
            Please tell us your favourite dish.
         </div>
         <div ng-if="signupForm.favourite_dish.$error.itemexists && signupForm.favourite_dish.$touched"
               class="alert alert-danger" role="alert">
            No such menu number exists :-(
         </div>
      </div>

      <div class="form-group">
        <button class="btn btn-default" type="submit"
              ng-disabled="signupForm.$invalid"
              ng-click="signupCtrl.submit()">{{signupCtrl.submitName}}</button>
      </div>

    </form>

    <div class="alert alert-success" role="alert" ng-if="signupCtrl.showMessage">{{signupCtrl.SuccessMsg}}</div>

  </div>

</div>
